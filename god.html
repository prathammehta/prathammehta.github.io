		<!DOCTYPE html>
		<html>
		<head>

		<style>
		      html, body {
		        height: 100%;
		        margin: 0;
		        padding: 0;
		      }
		      #map {
		        height: 100%;
		      }
		    </style>

		<script src="https://www.gstatic.com/firebasejs/3.2.0/firebase.js"></script>
		<script src="https://cdn.firebase.com/libs/geofire/4.1.1/geofire.min.js"></script>
		<script>
		  var map;
		  var markers = new Array()
		  function initMap() {

		  	var myLatLng = {lat: 12.9265595, lng: 77.6698287};

		  	map = new google.maps.Map(document.getElementById('map'), {
				center: myLatLng,
				zoom: 17
			});

			var infowindow = new google.maps.InfoWindow({
		    content: 'Subway Restaurant'
		  });

			var marker = new google.maps.Marker({
		    position: myLatLng,
		    map: map,
		    title: 'Subway Family Restaurant'
		  });

			marker.addListener('click', function() {
		    infowindow.open(map, marker);
		  });

			var arrivedCircle = new google.maps.Circle({
      		strokeColor: '#FF0000',
      		strokeOpacity: 0.8,
      		strokeWeight: 2,
      		fillColor: '#FF0000',
      		fillOpacity: 0.2,
      		map: map,
      		center: myLatLng,
      		radius: 100
    		});

    		var approachingCircle = new google.maps.Circle({
      		strokeColor: '#FFFF00',
      		strokeOpacity: 0.8,
      		strokeWeight: 2,
      		fillColor: '#FFFF00',
      		fillOpacity: 0.2,
      		map: map,
      		center: myLatLng,
      		radius: 300
    		});

			// Initialize Firebase
		  var config = {
		      apiKey: "AIzaSyBUoAuVIzUL0Dh9VkvUreFabtgWJCZF0Cc",
		      authDomain: "gngconsumertest.firebaseapp.com",
		      databaseURL: "https://gngconsumertest.firebaseio.com",
		      storageBucket: "gngconsumertest.appspot.com",
		      messagingSenderId: "72676022387"
		    };

		  firebase.initializeApp(config);

		  var provider = new firebase.auth.GoogleAuthProvider();

		  firebase.auth().signInWithPopup(provider).then(function(result) {

		    var token = result.credential.accessToken;

		    var user = result.user;

		      var geoFire = new GeoFire(firebase.database().ref('storegeo'))

		      var geoQuery = geoFire.query({
		      	center: [12.919846, 77.592132],
		      	radius: 20
		      })

		      var onKeyEnteredRegistration = geoQuery.on("key_entered", function(key, location, distance) {
		      
		      console.log("User " + key + " Entered to " + location + " (" + distance + " km from center)");	

		     var markerExists = "no"

		     //CHECK IF MARKERS ARE ON THE MAP.
		     for (var i = markers.length - 1; i >= 0; i--) {
		     	if(markers[i].title == key)
		     	{
		     		markers[i].setPosition({lat: location[0],
		        			   				lng: location[1]})
		     		markerExists = "yes"
		     	}
		     }

		     if (markerExists == "no") 
		     {
		     	var infowindow = new google.maps.InfoWindow({
		        	content: key
		      		});

		      	var marker = new google.maps.Marker({
		        	position: {lat: location[0],
		        			   lng: location[1]},
		        		 map: map,
		        	   title: key,
		        		icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'
		      });

		    	marker.addListener('click', function() {
		        infowindow.open(map, marker);
		      });

		        markers.push(marker)
		     }


		    });

		      var onKeyMovedRegistration = geoQuery.on("key_moved", function(key, location, distance) {
		      
		      console.log("User " + key + " moved to " + location + " (" + distance + " km from center)");	

		     var markerExists = "no"

		     //CHECK IF MARKERS ARE ON THE MAP.
		     for (var i = markers.length - 1; i >= 0; i--) {
		     	if(markers[i].title == key)
		     	{
		     		markers[i].setPosition({lat: location[0],
		        			   				lng: location[1]})
		     		markerExists = "yes"
		     	}
		     }

		     if (markerExists == "no") 
		     {
		     	var infowindow = new google.maps.InfoWindow({
		        	content: key
		      		});

		      	var marker = new google.maps.Marker({
		        	position: {lat: location[0],
		        			   lng: location[1]},
		        		 map: map,
		        	   title: key,
		        		icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'
		      });

		    	marker.addListener('click', function() {
		        infowindow.open(map, marker);
		      });

		        markers.push(marker)
		     }


		    });
		    // ...
		  }).catch(function(error) {
		    // Handle Errors here.
		    var errorCode = error.code;
		    var errorMessage = error.message;

		    alert(errorMessage)
		    var email = error.email;
		    // The firebase.auth.AuthCredential type that was used.
		    var credential = error.credential;
		    // ...
		  });

		  

		}

		</script>

			<title>GrabbnGo God View</title>

		</head>

		<body>
		    
		    <div id="map"></div>
		  	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBif7bQjmyK3atqFHMetwTuT_sWPUcEYCo&callback=initMap" async defer></script>
		</body>

</html>    